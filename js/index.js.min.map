{"version":3,"sources":["index.js"],"names":["zoom","init","ymaps","controls","Map","center","placemark","iconLayout","iconImageOffset","Placemark","map","iconImageHref","iconImageSize","behaviors","disable","geoObjects","add","svg4everybody","toggleButton","document","getElementById","mainNav","querySelector","siteNavigation","userNavigation","classList","contains","remove","addEventListener","event","preventDefault","toggle","this","overlayModal","catalogBlock","orderButton","openOrderForm","element","target","keyCode","closeOrderForm","window"],"mappings":"AAAA,aAwEIA,SAAIC,KAFyBC,GAG7BC,IAAAA,EAAQ,IAAGD,EAAAE,IAAA,MAAD,CAHZC,OAAA,CAAA,kBAAA,mBAMAL,KAAIM,GAIAC,SAAU,CAAA,iBAGVC,EAAAA,IAAkBN,EAAMO,UAP5B,CAAA,mBAAA,mBAWAC,GACAA,CACDH,WAAA,gBARKI,cAAe,uBACfC,cAAe,CAAC,GAAI,KACpBJ,gBAAiB,EAAE,IAAK,OAI5BE,EAAIG,UAAUC,QAAQ,cACtBJ,EAAIK,WAAWC,IAAIV,GAtFrBW,gBAEA,WAEE,IAAMC,EAAeC,SAASC,eAAe,iBACvCC,EAAUF,SAASG,cAAc,aACjCC,EAAiBJ,SAASG,cAAc,oBACxCE,EAAiBL,SAASG,cAAc,oBAE1CD,GAAWA,EAAQI,UAAUC,SAAS,qBACxCL,EAAQI,UAAUE,OAAO,mBAErBJ,GAAkBC,IACpBD,EAAeE,UAAUT,IAAI,2BAC7BQ,EAAeC,UAAUT,IAAI,6BAI7BE,GACFA,EAAaU,iBAAiB,QAAS,SAAAC,GACrCA,EAAMC,iBACNP,EAAeE,UAAUM,OAAO,2BAChCP,EAAeC,UAAUM,OAAO,2BAChCC,KAAKP,UAAUM,OAAO,2BAK1B,IAAME,EAAed,SAASG,cAAc,kBACtCY,EAAef,SAASG,cAAc,YACtCa,EAAchB,SAASG,cAAc,uBAe3C,SAASc,EAAcP,GACrB,IAAIQ,EAAUR,EAAMS,QAMlBT,EAAMC,UAAAA,SAAN,yBACAG,EAAAA,UAAaR,SAAc,yBAE9BI,EAAAC,iBAFGG,EAAaR,UAAUT,IAAI,0BAO7B,SAAIqB,EAAkBX,IACRG,EAACJ,OAEhBA,UAAAC,SAAA,kBAAA,KAAAG,EAAAU,UAGHN,EAAAR,UAAAE,OAAA,yBAlCMM,IACEC,GACFA,EAAaN,iBAAiB,QAASQ,GAGrCD,GACFA,EAAYP,iBAAiB,QAASQ,GAGxCH,EAAaL,iBAAiB,QAASY,GACvCC,OAAOb,iBAAiB,UAAWY,IAxCvC","file":"index.js","sourcesContent":["\"use strict\";\n\nsvg4everybody();\n\n(function() {\n  // Меню\n  const toggleButton = document.getElementById(\"toggle-button\");\n  const mainNav = document.querySelector(\".main-nav\");\n  const siteNavigation = document.querySelector(\".site-navigation\");\n  const userNavigation = document.querySelector(\".user-navigation\");\n\n  if (mainNav && mainNav.classList.contains(\"main-nav--no-js\")) {\n    mainNav.classList.remove(\"main-nav--no-js\");\n\n    if (siteNavigation && userNavigation) {\n      siteNavigation.classList.add(\"site-navigation--closed\");\n      userNavigation.classList.add(\"user-navigation--closed\");\n    }\n  }\n\n  if (toggleButton) {\n    toggleButton.addEventListener(\"click\", function(event) {\n      event.preventDefault();\n      siteNavigation.classList.toggle(\"site-navigation--closed\");\n      userNavigation.classList.toggle(\"user-navigation--closed\");\n      this.classList.toggle(\"main-nav__toggle--off\");\n    });\n  }\n\n  // Модальное окно заказа товара\n  const overlayModal = document.querySelector(\".modal-overlay\");\n  const catalogBlock = document.querySelector(\".catalog\");\n  const orderButton = document.querySelector(\".week-goods__button\");\n\n  if (overlayModal) {\n    if (catalogBlock) {\n      catalogBlock.addEventListener(\"click\", openOrderForm);\n    }\n\n    if (orderButton) {\n      orderButton.addEventListener(\"click\", openOrderForm);\n    }\n\n    overlayModal.addEventListener(\"click\", closeOrderForm);\n    window.addEventListener(\"keydown\", closeOrderForm);\n  }\n\n  function openOrderForm(event) {\n    let element = event.target;\n\n    if (\n      element.classList.contains(\"card-product__button\") ||\n      element.classList.contains(\"week-goods__button\")\n    ) {\n      event.preventDefault();\n      overlayModal.classList.add(\"modal-overlay--opened\");\n    }\n  }\n\n  function closeOrderForm(event) {\n    let element = event.target;\n\n    if (element.classList.contains(\"modal-overlay\") || event.keyCode === 27) {\n      overlayModal.classList.remove(\"modal-overlay--opened\");\n    }\n  }\n})();\n\n// Яндекс карта\nfunction init(ymaps) {\n  let map = new ymaps.Map(\"map\", {\n    center: [59.93944115603922, 30.32302403991186],\n    zoom: 16,\n    controls: [\"zoomControl\"]\n  });\n\n  let placemark = new ymaps.Placemark(\n    [59.938633647616214, 30.32304549758399],\n    {},\n    {\n      iconLayout: \"default#image\",\n      iconImageHref: \"img/icon-map-pin.svg\",\n      iconImageSize: [66, 101],\n      iconImageOffset: [-33, -101]\n    }\n  );\n\n  map.behaviors.disable(\"scrollZoom\");\n  map.geoObjects.add(placemark);\n}\n"]}